import{r as P,j as T}from"./app-DcA4OvQM.js";function C({data:b,type:m="line",height:w=300}){const y=P.useRef(null);P.useEffect(()=>{if(!y.current)return;const e=y.current,n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),m==="line"?E(n,e,b):m==="doughnut"&&M(n,e,b)},[b,m]);const E=(e,n,k)=>{const{labels:d,users:h,appointments:f,engagements:r}=k,t=40,g=n.width-t*2,a=n.height-t*2;e.strokeStyle="#e5e7eb",e.lineWidth=1,e.beginPath(),e.moveTo(t,t),e.lineTo(t,n.height-t),e.lineTo(n.width-t,n.height-t),e.stroke(),e.strokeStyle="#f3f4f6",e.lineWidth=1;for(let o=0;o<=5;o++){const l=t+a/5*o;e.beginPath(),e.moveTo(t,l),e.lineTo(n.width-t,l),e.stroke()}if(h&&(e.strokeStyle="rgb(4, 50, 75)",e.lineWidth=3,e.beginPath(),h.forEach((o,l)=>{const i=t+g/(h.length-1)*l,s=n.height-t-o/Math.max(...h)*a;l===0?e.moveTo(i,s):e.lineTo(i,s)}),e.stroke(),e.fillStyle="rgb(4, 50, 75)",h.forEach((o,l)=>{const i=t+g/(h.length-1)*l,s=n.height-t-o/Math.max(...h)*a;e.beginPath(),e.arc(i,s,5,0,2*Math.PI),e.fill(),e.strokeStyle="rgb(210, 166, 73)",e.lineWidth=2,e.beginPath(),e.arc(i,s,7,0,2*Math.PI),e.stroke()})),r&&Array.isArray(r)&&r.length>0){e.strokeStyle="rgb(210, 166, 73)",e.lineWidth=2,e.setLineDash([5,5]),e.beginPath();const o=Math.max(...r);r.forEach((l,i)=>{const s=t+g/(r.length-1)*i,u=n.height-t-l/o*a;i===0?e.moveTo(s,u):e.lineTo(s,u)}),e.stroke(),e.setLineDash([])}e.fillStyle="#6b7280",e.font="12px sans-serif",e.textAlign="center",d.forEach((o,l)=>{const i=t+g/(d.length-1)*l;e.fillText(o,i,n.height-t+20)})},M=(e,n,k)=>{const{labels:d,datasets:h}=k,f=n.width/2,r=n.height/2,t=Math.min(f,r)-40,g=t*.6;let a=0;const o=h[0].data.reduce((l,i)=>l+i,0);h[0].data.forEach((l,i)=>{const s=l/o*2*Math.PI;e.beginPath(),e.arc(f,r,t,a,a+s),e.arc(f,r,g,a+s,a,!0),e.closePath(),e.fillStyle=h[0].backgroundColor[i],e.fill();const u=a+s/2,S=f+Math.cos(u)*(t+20),p=r+Math.sin(u)*(t+20);e.fillStyle="#374151",e.font="12px sans-serif",e.textAlign="center",e.fillText(d[i],S,p),a+=s})};return T.jsx("div",{className:"w-full",children:T.jsx("canvas",{ref:y,width:800,height:w,className:"h-full w-full"})})}export{C};
