import{r as b,j as e,L as v}from"./app-DcA4OvQM.js";import{A as j}from"./AdminLayout-B2rIqxXb.js";import{C as o}from"./Chart-Cgz4Iwrx.js";function N({analytics:r,user:c}){const[x,m]=b.useState("30d"),l=(r==null?void 0:r.userEngagement)||{},a=(r==null?void 0:r.contentPerformance)||[],d=(r==null?void 0:r.expertActivity)||[],i=(r==null?void 0:r.platformUsage)||{},h={labels:["Week 1","Week 2","Week 3","Week 4"],users:[150,230,310,420],engagements:[1200,1800,2400,3e3]};a.slice(0,5).map(s=>{var t;return((t=s.title)==null?void 0:t.substring(0,20))||"Post"}),a.slice(0,5).map(s=>s.comments_count||0);const g={labels:["Active Users","Experts","Content","Engagements"],datasets:[{data:[l.monthly_active_users||0,d.length||0,a.length||0,i.total_sessions||0],backgroundColor:["rgb(4, 50, 75)","rgb(29, 84, 114)","rgb(210, 166, 73)","rgb(220, 180, 90)"]}]};return e.jsxs(j,{user:c,currentPath:"/admin/analytics",children:[e.jsx(v,{title:"Analytics Dashboard"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-[rgb(4,50,75)]",children:"Analytics Dashboard"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Comprehensive insights into your platform performance"})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsxs("select",{value:x,onChange:s=>m(s.target.value),className:"rounded-lg border border-gray-300 px-4 py-2 focus:border-[rgb(210,166,73)] focus:ring-2 focus:ring-[rgb(210,166,73)]/20 bg-white",children:[e.jsx("option",{value:"7d",children:"Last 7 days"}),e.jsx("option",{value:"30d",children:"Last 30 days"}),e.jsx("option",{value:"90d",children:"Last 90 days"}),e.jsx("option",{value:"1y",children:"Last year"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl border border-gray-100 hover:shadow-xl transition-all duration-200 hover:border-[rgb(210,166,73)]/30 group",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-[rgb(4,50,75)]/10 to-[rgb(29,84,114)]/10 group-hover:from-[rgb(4,50,75)]/20 group-hover:to-[rgb(29,84,114)]/20 transition-colors",children:e.jsx("svg",{className:"h-6 w-6 text-[rgb(4,50,75)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Daily Active Users"}),e.jsx("dd",{className:"text-2xl font-bold text-[rgb(4,50,75)]",children:l.daily_active_users||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl border border-gray-100 hover:shadow-xl transition-all duration-200 hover:border-[rgb(210,166,73)]/30 group",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-[rgb(29,84,114)]/10 to-[rgb(4,50,75)]/10 group-hover:from-[rgb(29,84,114)]/20 group-hover:to-[rgb(4,50,75)]/20 transition-colors",children:e.jsx("svg",{className:"h-6 w-6 text-[rgb(29,84,114)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Weekly Active Users"}),e.jsx("dd",{className:"text-2xl font-bold text-[rgb(29,84,114)]",children:l.weekly_active_users||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl border border-gray-100 hover:shadow-xl transition-all duration-200 hover:border-[rgb(210,166,73)]/30 group",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-[rgb(210,166,73)]/20 to-[rgb(220,180,90)]/20 group-hover:from-[rgb(210,166,73)]/30 group-hover:to-[rgb(220,180,90)]/30 transition-colors",children:e.jsx("svg",{className:"h-6 w-6 text-[rgb(210,166,73)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Monthly Active Users"}),e.jsx("dd",{className:"text-2xl font-bold text-[rgb(210,166,73)]",children:l.monthly_active_users||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl border border-gray-100 hover:shadow-xl transition-all duration-200 hover:border-[rgb(210,166,73)]/30 group",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-[rgb(4,50,75)]/10 to-[rgb(210,166,73)]/10 group-hover:from-[rgb(4,50,75)]/20 group-hover:to-[rgb(210,166,73)]/20 transition-colors",children:e.jsx("svg",{className:"h-6 w-6 text-[rgb(4,50,75)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Sessions"}),e.jsx("dd",{className:"text-2xl font-bold text-[rgb(4,50,75)]",children:i.total_sessions||0})]})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 shadow-lg",children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[rgb(4,50,75)]",children:"User Growth"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Growth over the last 4 weeks"})]})}),e.jsx(o,{data:h,type:"line",height:300})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 shadow-lg",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-[rgb(4,50,75)]",children:"Platform Distribution"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Overview of platform activity"})]}),e.jsx(o,{data:g,type:"doughnut",height:300})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-[rgb(4,50,75)]",children:"Top Performing Content"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Most engaged posts and articles"})]}),e.jsx("div",{className:"p-6",children:a.length>0?e.jsx("div",{className:"space-y-4",children:a.slice(0,10).map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-100 hover:border-[rgb(210,166,73)]/30 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg font-semibold text-white ${t<3?"bg-gradient-to-br from-[rgb(210,166,73)] to-[rgb(220,180,90)] text-[rgb(4,50,75)]":"bg-gradient-to-br from-[rgb(4,50,75)] to-[rgb(29,84,114)]"}`,children:t+1})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:s.title||"Untitled Post"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.created_at?new Date(s.created_at).toLocaleDateString():"N/A"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 ml-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-[rgb(4,50,75)]",children:s.comments_count||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Comments"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-[rgb(29,84,114)]",children:s.reactions_count||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Reactions"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-[rgb(210,166,73)]",children:s.shares_count||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Shares"})]})]})]},s.id||t))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gray-100 mx-auto",children:e.jsx("svg",{className:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No content data available"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-[rgb(4,50,75)]",children:"Expert Activity"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Top performing healthcare experts"})]}),e.jsx("div",{className:"p-6",children:d.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expert"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Appointments"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Posts"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map((s,t)=>{var n;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-[rgb(210,166,73)] to-[rgb(220,180,90)] font-semibold text-[rgb(4,50,75)]",children:((n=s.name)==null?void 0:n.charAt(0))||"E"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name||"Unknown"}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email||"N/A"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-[rgb(4,50,75)] font-semibold",children:s.appointments_count||0})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-[rgb(29,84,114)] font-semibold",children:s.posts_count||0})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.last_login_at?new Date(s.last_login_at).toLocaleDateString():"Never"})]},s.id||t)})})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gray-100 mx-auto",children:e.jsx("svg",{className:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No expert data available"})]})})]})]})]})}export{N as default};
