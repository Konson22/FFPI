import{K as _,r as m,m as S,j as e,L as C}from"./app-DcA4OvQM.js";import{U as M}from"./UserLayout-CvYy6IBB.js";import"./user-BPb7GXe4.js";function $({user:b,doctor:r,doctors:f=[],appointments:p=[]}){const{flash:c}=_().props,[i,d]=m.useState(!!r),[B,h]=m.useState(""),j=(()=>{const t=[];for(let o=9;o<17;o++)for(let l=0;l<60;l+=30){const k=`${o.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`;t.push(k)}return t})(),x=()=>new Date().toISOString().split("T")[0],v=()=>{const t=new Date;return t.setMonth(t.getMonth()+3),t.toISOString().split("T")[0]},{data:n,setData:a,post:N,processing:g,errors:s,reset:u}=S({doctor_id:(r==null?void 0:r.id)||"",appointment_date:"",appointment_time:"",reason:"",notes:""});m.useEffect(()=>{r&&a("doctor_id",r.id)},[r]),m.useEffect(()=>{i&&!n.appointment_date&&(a("appointment_date",x()),h(x()))},[i]);const y=t=>{t.preventDefault(),N("/user/appointments",{onSuccess:()=>{u(),d(!1)}})},w=t=>{const o={scheduled:{color:"bg-blue-100 text-blue-800",label:"Scheduled"},confirmed:{color:"bg-green-100 text-green-800",label:"Confirmed"},completed:{color:"bg-gray-100 text-gray-800",label:"Completed"},cancelled:{color:"bg-red-100 text-red-800",label:"Cancelled"}},l=o[t]||o.scheduled;return e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${l.color}`,children:l.label})};return e.jsxs(M,{user:b,role:"user",currentPath:"/user/appointments",children:[e.jsx(C,{title:"Appointments - Family Planning"}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-8 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Appointments"}),e.jsx("p",{className:"mt-2 text-blue-100",children:"Book and manage your healthcare appointments"})]}),!i&&e.jsx("button",{onClick:()=>d(!0),className:"rounded-lg bg-white px-6 py-3 font-medium text-blue-600 transition-all hover:bg-blue-50 active:scale-95",children:"Book New Appointment"})]})}),(c==null?void 0:c.success)&&e.jsx("div",{className:"mb-6 rounded-lg border border-green-200 bg-green-50 p-4 text-green-800",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"mr-2 h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),c.success]})}),i&&e.jsxs("div",{className:"mb-8 rounded-xl bg-white p-6 shadow-lg",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Book Appointment"}),e.jsx("button",{onClick:()=>{d(!1),u()},className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r&&e.jsx("div",{className:"mb-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"mr-2 h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-blue-900",children:["Selected Doctor: ",r.name]}),e.jsx("p",{className:"text-sm text-blue-700",children:r.specialization})]})]})}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"doctor_id",className:"mb-2 block text-sm font-medium text-gray-700",children:["Select Doctor ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"doctor_id",value:n.doctor_id,onChange:t=>a("doctor_id",t.target.value),disabled:!!r,className:`w-full rounded-lg border px-4 py-3 transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${s.doctor_id?"border-red-300":"border-gray-300"} ${r?"cursor-not-allowed bg-gray-100":""}`,required:!0,children:[e.jsx("option",{value:"",children:"Choose a doctor..."}),f.map(t=>e.jsxs("option",{value:t.id,children:[t.name," - ",t.specialization]},t.id))]}),s.doctor_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.doctor_id})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"appointment_date",className:"mb-2 block text-sm font-medium text-gray-700",children:["Appointment Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",id:"appointment_date",value:n.appointment_date,onChange:t=>{a("appointment_date",t.target.value),h(t.target.value)},min:x(),max:v(),className:`w-full rounded-lg border px-4 py-3 transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${s.appointment_date?"border-red-300":"border-gray-300"}`,required:!0}),s.appointment_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.appointment_date})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"appointment_time",className:"mb-2 block text-sm font-medium text-gray-700",children:["Appointment Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"appointment_time",value:n.appointment_time,onChange:t=>a("appointment_time",t.target.value),className:`w-full rounded-lg border px-4 py-3 transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${s.appointment_time?"border-red-300":"border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select time..."}),j.map(t=>e.jsx("option",{value:t,children:new Date(`2000-01-01T${t}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},t))]}),s.appointment_time&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.appointment_time})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reason",className:"mb-2 block text-sm font-medium text-gray-700",children:"Reason for Visit"}),e.jsx("textarea",{id:"reason",value:n.reason,onChange:t=>a("reason",t.target.value),rows:3,placeholder:"Briefly describe the reason for your appointment...",className:`w-full rounded-lg border px-4 py-3 transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${s.reason?"border-red-300":"border-gray-300"}`}),s.reason&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.reason})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"mb-2 block text-sm font-medium text-gray-700",children:"Additional Notes (Optional)"}),e.jsx("textarea",{id:"notes",value:n.notes,onChange:t=>a("notes",t.target.value),rows:3,placeholder:"Any additional information you'd like to share...",className:`w-full rounded-lg border px-4 py-3 transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${s.notes?"border-red-300":"border-gray-300"}`}),s.notes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.notes})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:g,className:"flex-1 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-3 font-medium text-white transition-all hover:from-blue-700 hover:to-indigo-700 active:scale-95 disabled:cursor-not-allowed disabled:opacity-50",children:g?"Booking...":"Book Appointment"}),e.jsx("button",{type:"button",onClick:()=>{d(!1),u()},className:"rounded-lg border border-gray-300 px-6 py-3 font-medium text-gray-700 transition-all hover:bg-gray-50 active:scale-95",children:"Cancel"})]})]})]}),e.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-lg",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Your Appointments"}),p.length>0?e.jsx("div",{className:"space-y-4",children:p.map(t=>e.jsx("div",{className:"rounded-lg border border-gray-200 p-6 transition-all hover:shadow-md",children:e.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.doctor_name}),w(t.status)]}),e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:t.specialization}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"mr-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.appointment_date_formatted]})}),t.reason&&e.jsxs("p",{className:"mt-2 text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Reason:"})," ",t.reason]})]})})},t.id))}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No appointments yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Book your first appointment to get started."}),!i&&e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>d(!0),className:"inline-flex items-center rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-sm font-medium text-white transition-all hover:from-blue-700 hover:to-indigo-700",children:"Book Appointment"})})]})]})]})]})}export{$ as default};
